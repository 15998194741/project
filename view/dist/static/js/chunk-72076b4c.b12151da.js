(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72076b4c"],{"0d21":function(e,t,a){"use strict";function r(e){if(Array.isArray(e))return e}a.d(t,"a",(function(){return r}))},"1a71":function(e,t,a){},"3d8c":function(e,t,a){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}a.d(t,"a",(function(){return r}))},"456d":function(e,t,a){var r=a("4bf8"),n=a("0d58");a("5eda")("keys",(function(){return function(e){return n(r(e))}}))},"504c":function(e,t,a){var r=a("9e1e"),n=a("0d58"),l=a("6821"),i=a("52a7").f;e.exports=function(e){return function(t){var a,s=l(t),o=n(s),c=o.length,u=0,d=[];while(c>u)a=o[u++],r&&!i.call(s,a)||d.push(e?[a,s[a]]:s[a]);return d}}},"5a0c":function(e,t,a){!function(t,a){e.exports=a()}(0,(function(){"use strict";var e="millisecond",t="second",a="minute",r="hour",n="day",l="week",i="month",s="quarter",o="year",c="date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,d=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m=function(e,t,a){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(a)+e},h={s:m,z:function(e){var t=-e.utcOffset(),a=Math.abs(t),r=Math.floor(a/60),n=a%60;return(t<=0?"+":"-")+m(r,2,"0")+":"+m(n,2,"0")},m:function e(t,a){if(t.date()<a.date())return-e(a,t);var r=12*(a.year()-t.year())+(a.month()-t.month()),n=t.add(r,i),l=a-n<0,s=t.add(r+(l?-1:1),i);return+(-(r+(a-n)/(l?n-s:s-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(u){return{M:i,y:o,w:l,d:n,D:c,h:r,m:a,s:t,ms:e,Q:s}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p="en",b={};b[p]=f;var v=function(e){return e instanceof _},g=function(e,t,a){var r;if(!e)return p;if("string"==typeof e)b[e]&&(r=e),t&&(b[e]=t,r=e);else{var n=e.name;b[n]=e,r=n}return!a&&r&&(p=r),r||!a&&p},y=function(e,t){if(v(e))return e.clone();var a="object"==typeof t?t:{};return a.date=e,a.args=arguments,new _(a)},w=h;w.l=g,w.i=v,w.w=function(e,t){return y(e,{locale:t.$L,utc:t.$u,$offset:t.$offset})};var _=function(){function m(e){this.$L=this.$L||g(e.locale,null,!0),this.parse(e)}var h=m.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,a=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(u);if(r){var n=r[2]-1||0;return a?new Date(Date.UTC(r[1],n,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],n,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}}return new Date(t)}(e),this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return w},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(e,t){var a=y(e);return this.startOf(t)<=a&&a<=this.endOf(t)},h.isAfter=function(e,t){return y(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<y(e)},h.$g=function(e,t,a){return w.u(e)?this[t]:this.set(a,e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,s){var u=this,d=!!w.u(s)||s,m=w.p(e),h=function(e,t){var a=w.w(u.$u?Date.UTC(u.$y,t,e):new Date(u.$y,t,e),u);return d?a:a.endOf(n)},f=function(e,t){return w.w(u.toDate()[e].apply(u.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(t)),u)},p=this.$W,b=this.$M,v=this.$D,g="set"+(this.$u?"UTC":"");switch(m){case o:return d?h(1,0):h(31,11);case i:return d?h(1,b):h(0,b+1);case l:var y=this.$locale().weekStart||0,_=(p<y?p+7:p)-y;return h(d?v-_:v+(6-_),b);case n:case c:return f(g+"Hours",0);case r:return f(g+"Minutes",1);case a:return f(g+"Seconds",2);case t:return f(g+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(l,s){var u,d=w.p(l),m="set"+(this.$u?"UTC":""),h=(u={},u[n]=m+"Date",u[c]=m+"Date",u[i]=m+"Month",u[o]=m+"FullYear",u[r]=m+"Hours",u[a]=m+"Minutes",u[t]=m+"Seconds",u[e]=m+"Milliseconds",u)[d],f=d===n?this.$D+(s-this.$W):s;if(d===i||d===o){var p=this.clone().set(c,1);p.$d[h](f),p.init(),this.$d=p.set(c,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[w.p(e)]()},h.add=function(e,s){var c,u=this;e=Number(e);var d=w.p(s),m=function(t){var a=y(u);return w.w(a.date(a.date()+Math.round(t*e)),u)};if(d===i)return this.set(i,this.$M+e);if(d===o)return this.set(o,this.$y+e);if(d===n)return m(1);if(d===l)return m(7);var h=(c={},c[a]=6e4,c[r]=36e5,c[t]=1e3,c)[d]||1,f=this.$d.getTime()+e*h;return w.w(f,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var a=e||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),n=this.$locale(),l=this.$H,i=this.$m,s=this.$M,o=n.weekdays,c=n.months,u=function(e,r,n,l){return e&&(e[r]||e(t,a))||n[r].substr(0,l)},m=function(e){return w.s(l%12||12,e,"0")},h=n.meridiem||function(e,t,a){var r=e<12?"AM":"PM";return a?r.toLowerCase():r},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:w.s(s+1,2,"0"),MMM:u(n.monthsShort,s,c,3),MMMM:u(c,s),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,o,2),ddd:u(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(l),HH:w.s(l,2,"0"),h:m(1),hh:m(2),a:h(l,i,!0),A:h(l,i,!1),m:String(i),mm:w.s(i,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return a.replace(d,(function(e,t){return t||f[e]||r.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(e,c,u){var d,m=w.p(c),h=y(e),f=6e4*(h.utcOffset()-this.utcOffset()),p=this-h,b=w.m(this,h);return b=(d={},d[o]=b/12,d[i]=b,d[s]=b/3,d[l]=(p-f)/6048e5,d[n]=(p-f)/864e5,d[r]=p/36e5,d[a]=p/6e4,d[t]=p/1e3,d)[m]||p,u?b:w.a(b)},h.daysInMonth=function(){return this.endOf(i).$D},h.$locale=function(){return b[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var a=this.clone(),r=g(e,t,!0);return r&&(a.$L=r),a},h.clone=function(){return w.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},m}(),F=_.prototype;return y.prototype=F,[["$ms",e],["$s",t],["$m",a],["$H",r],["$W",n],["$M",i],["$y",o],["$D",c]].forEach((function(e){F[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),y.extend=function(e,t){return e(t,_,y),y},y.locale=g,y.isDayjs=v,y.unix=function(e){return y(1e3*e)},y.en=b[p],y.Ls=b,y}))},"5eda":function(e,t,a){var r=a("5ca1"),n=a("8378"),l=a("79e5");e.exports=function(e,t){var a=(n.Object||{})[e]||Object[e],i={};i[e]=t(a),r(r.S+r.F*l((function(){a(1)})),"Object",i)}},7364:function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"c",(function(){return l})),a.d(t,"e",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return c}));var r=a("b775");function n(e){return Object(r["a"])({url:"character/query",method:"get",params:e})}function l(){return Object(r["a"])({url:"character/findServername",method:"get"})}function i(e){return Object(r["a"])({url:"character/prohibitedMute",method:"put",data:e})}function s(e){return Object(r["a"])({url:"character/outputConsume",method:"get",params:e})}function o(e){return Object(r["a"])({url:"character/backPackQuery",method:"get",params:e})}function c(e){return Object(r["a"])({url:"character/backPackRecycle",method:"put",data:e})}},7514:function(e,t,a){"use strict";var r=a("5ca1"),n=a("0a49")(5),l="find",i=!0;l in[]&&Array(1)[l]((function(){i=!1})),r(r.P+r.F*i,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(l)},f0da:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"anno-container"},[a("div",{staticClass:"role-container-header"},[a("ul",{staticStyle:{"margin-top":"5px","margin-bottom":"-5px"}},[a("li",[a("el-button",{staticClass:"button-with-header",attrs:{slot:"reference",icon:"el-icon-refresh",size:"small"},slot:"reference"},[e._v("刷新")])],1),e._v(" "),a("li",[a("el-button",{staticClass:"button-with-header",attrs:{slot:"reference",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:e.dialogFormVisiblechangealter},slot:"reference"},[e._v("新建公告")])],1),e._v(" "),a("li",[a("el-button",{staticClass:"button-with-header",attrs:{slot:"reference",icon:"el-icon-mouse",disabled:e.send,size:"small"},on:{click:function(t){e.dialogFormVisiblesend=!0}},slot:"reference"},[e._v("发布")])],1)])]),e._v(" "),a("div",{staticClass:"role-container-search"},[a("div",{staticClass:"server-container"},[e._v("ID：\n      "),a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入公告ID",size:"small"},model:{value:e.filterForm["bulletinid"],callback:function(t){e.$set(e.filterForm,"bulletinid",t)},expression:"filterForm['bulletinid']"}}),e._v(" "),a("el-button",{staticClass:"button-with-select",attrs:{slot:"append",icon:"el-icon-search",size:"small",name:"truesearch"},on:{click:function(t){return e.filterFormChange("click")}},slot:"append"}),e._v("\n      时间：\n      "),a("el-date-picker",{attrs:{size:"small",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(t){return e.filterFormChange("change")}},model:{value:e.filterForm["setime"],callback:function(t){e.$set(e.filterForm,"setime",t)},expression:"filterForm['setime']"}})],1),e._v(" "),a("div",{staticClass:"comprehensive-container"},e._l(e.selectForm,(function(t,r){return a("div",{key:r,staticClass:"select-item"},[e._v(" "+e._s(t.label)+":\n        "),a("el-select",{staticStyle:{"border-radius":"10px"},attrs:{multiple:t["multiple"],placeholder:"请选择",size:"small"},on:{change:function(t){return e.filterFormChange("change")}},model:{value:e.filterForm[t.key],callback:function(a){e.$set(e.filterForm,t.key,a)},expression:"filterForm[i.key]"}},e._l(t.options,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)})),0)]),e._v(" "),a("div",{staticClass:"role-container-body",attrs:{id:"body"}},[a("el-table",{ref:"multipleTable",attrs:{border:"",data:e.tableData,"row-class-name":e.tableRowClassName},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),e._l(e.tablecolumn,(function(t,r){return a("el-table-column",{key:r,attrs:{width:e.screenWidth,label:t.label},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(e._s(a.row[t.prop]))]}}],null,!0)})})),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.row["changeshow"],expression:'scope.row["changeshow"]'}],on:{click:function(a){return e.placardmodify(t.$index,t.row)}}},[e._v("修改")]),e._v(" "),a("el-popconfirm",{directives:[{name:"show",rawName:"v-show",value:t.row["stopshow"],expression:'scope.row["stopshow"]'}],attrs:{confirmButtonText:"好的",cancelButtonText:"不用了",icon:"el-icon-info",iconColor:"red",title:"确定停用此公告吗？"},on:{onConfirm:function(a){return e.placarddeactivate(t.$index,t.row)}}},[a("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("停用")])],1)]}}])})],2)],1),e._v(" "),a("div",{staticClass:"role-container-bottom"},[a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"page-size":e.filterForm["pagesize"],"page-sizes":[10,20,30,40],background:"",layout:"total, sizes, prev, pager, next, jumper","pager-count":9,"hide-on-single-page":!1,total:e.total,"current-page":e.filterForm.page},on:{"update:pageSize":function(t){return e.$set(e.filterForm,"pagesize",t)},"update:page-size":function(t){return e.$set(e.filterForm,"pagesize",t)},"update:currentPage":function(t){return e.$set(e.filterForm,"page",t)},"update:current-page":function(t){return e.$set(e.filterForm,"page",t)},"size-change":function(t){return e.filterFormChange("change")},"current-change":function(t){return e.filterFormChange("change")}}})],1),e._v(" "),a("el-dialog",{staticClass:"announceddialog",attrs:{title:"新建公告",visible:e.dialogFormVisiblechange,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisiblechange=t}}},[a("div",{staticClass:"headradio"},[a("el-radio",{attrs:{label:!0},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("跑马灯")]),e._v(" "),a("el-radio",{attrs:{label:!1},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("公告板")])],1),e._v(" "),a("div",{staticClass:"container"},[a("div",[a("el-form",{ref:"createForm",attrs:{model:e.createForm,rules:e.textrule,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"公告ID:"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{disabled:"",placeholder:"请输入内容"},model:{value:e.createForm["bulletinid"],callback:function(t){e.$set(e.createForm,"bulletinid",t)},expression:"createForm['bulletinid']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公告正文:",prop:"text"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:8,placeholder:"请输入内容"},model:{value:e.createForm["text"],callback:function(t){e.$set(e.createForm,"text",t)},expression:"createForm['text']"}})],1)],1)],1),e._v(" "),a("div",[a("el-form",{directives:[{name:"show",rawName:"v-show",value:!e.radio,expression:"!radio"}],ref:"createFormbulletin",attrs:{model:e.createForm,rules:e.announcementrule,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"公告标题:",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.createForm.title,callback:function(t){e.$set(e.createForm,"title",t)},expression:"createForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公告图片:","hide-required-asterisk":""}},[a("a",{staticClass:"a-upload",attrs:{href:"javascript:;"}},[a("input",{attrs:{id:"uploadimage",type:"file"},on:{change:e.fileupload}}),e._v(" 点击上传文件\n        ")]),e._v(e._s(e.fileName)+"\n        ")]),e._v(" "),a("el-form-item",{attrs:{label:"公告链接:",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.createForm["a"],callback:function(t){e.$set(e.createForm,"a",t)},expression:"createForm['a']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"平台:"}},[a("el-select",{staticStyle:{"border-radius":"10px"},attrs:{placeholder:"请选择",size:"small"},model:{value:e.createForm["plaform"],callback:function(t){e.$set(e.createForm,"plaform",t)},expression:"createForm['plaform']"}},[a("el-option",{attrs:{label:"不限制",value:""}}),e._v(" "),a("el-option",{attrs:{label:"安卓",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"苹果",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"客户端:"}},[a("el-select",{staticStyle:{"border-radius":"10px"},attrs:{multiple:"",placeholder:"请选择",size:"small"},model:{value:e.createForm["channel"],callback:function(t){e.$set(e.createForm,"channel",t)},expression:"createForm['channel']"}},e._l(e.selectForm[1].options,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.radio,expression:"radio"}],ref:"createFormMarqueeRule",attrs:{rules:e.createFormMarqueeRules,model:e.createForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"开始时间:",prop:"stime"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},on:{change:e.queryMarqueeweights},model:{value:e.createForm["stime"],callback:function(t){e.$set(e.createForm,"stime",t)},expression:"createForm['stime']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间:",prop:"etime"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},on:{change:e.queryMarqueeweights},model:{value:e.createForm["etime"],callback:function(t){e.$set(e.createForm,"etime",t)},expression:"createForm['etime']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"平台:"}},[a("el-select",{staticStyle:{"border-radius":"10px"},attrs:{placeholder:"请选择",size:"small"},on:{change:e.queryMarqueeweights},model:{value:e.createForm["plaform"],callback:function(t){e.$set(e.createForm,"plaform",t)},expression:"createForm['plaform']"}},[a("el-option",{attrs:{label:"不限制",value:""}}),e._v(" "),a("el-option",{attrs:{label:"安卓",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"苹果",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"客户端:"}},[a("el-select",{staticStyle:{"border-radius":"10px"},attrs:{multiple:"",placeholder:"请选择",size:"small"},on:{change:e.queryMarqueeweights},model:{value:e.createForm["channel"],callback:function(t){e.$set(e.createForm,"channel",t)},expression:"createForm['channel']"}},e._l(e.selectForm[1].options,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"服务器:"}},[a("el-select",{staticStyle:{"border-radius":"10px"},attrs:{multiple:"",placeholder:"请选择",size:"small"},on:{change:e.queryMarqueeweights},model:{value:e.createForm["servername"],callback:function(t){e.$set(e.createForm,"servername",t)},expression:"createForm['servername']"}},e._l(e.servernamesselect,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"时间间隔:",prop:"interval"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.createForm["interval"],callback:function(t){e.$set(e.createForm,"interval",e._n(t))},expression:"createForm['interval']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权重:",prop:"weights"}},[a("el-select",{staticStyle:{"border-radius":"10px"},attrs:{placeholder:"请选择",size:"small"},model:{value:e.createForm["weights"],callback:function(t){e.$set(e.createForm,"weights",t)},expression:"createForm['weights']"}},e._l(e.Marqueeweights,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisiblechange=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.postannounced}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{staticClass:"announceddialog",attrs:{title:"公告发布",visible:e.dialogFormVisiblesend,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisiblesend=t}}},[a("div",{staticClass:"tablesendheader",staticStyle:{"min-height":"5vh"}},[a("el-switch",{attrs:{"active-text":"实时发送","inactive-text":"定时发送","active-value":!1,"inactive-value":!0},model:{value:e.sendtime,callback:function(t){e.sendtime=t},expression:"sendtime"}}),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:e.sendtime,expression:"sendtime"}],staticStyle:{"margin-left":"10px"},attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.sendtimes,callback:function(t){e.sendtimes=t},expression:"sendtimes"}})],1),e._v(" "),a("div",{},[a("el-table",{ref:"multipleTable",staticClass:"tablesendclass",attrs:{border:"",data:e.tableTrue}},e._l(e.tablecolumn,(function(t,r){return a("el-table-column",{key:r,attrs:{width:e.screenWidth,label:t.label},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(e._s(a.row[t.prop]))]}}],null,!0)})})),1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisiblesend=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.postsendannounced}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{staticClass:"announceddialog",attrs:{title:"公告修改",visible:e.dialogBulletinFormchange,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogBulletinFormchange=t}}},[a("div",{staticClass:"container"},[a("div",[a("el-form",{ref:"form",attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"公告ID:"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{disabled:"",placeholder:"请输入内容"},model:{value:e.changebulletindata["bulletinid"],callback:function(t){e.$set(e.changebulletindata,"bulletinid",t)},expression:"changebulletindata['bulletinid']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公告正文:"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:8,placeholder:"请输入内容"},model:{value:e.changebulletindata["text"],callback:function(t){e.$set(e.changebulletindata,"text",t)},expression:"changebulletindata['text']"}})],1)],1)],1),e._v(" "),a("div",["公告板"===e.changebulletindata["type"]?a("el-form",{ref:"form",attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"公告标题:","hide-required-asterisk":""}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.changebulletindata["title"],callback:function(t){e.$set(e.changebulletindata,"title",t)},expression:"changebulletindata['title']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公告图片:","hide-required-asterisk":""}},[a("a",{staticClass:"a-upload",attrs:{href:"javascript:;"}},[a("input",{attrs:{id:"uploadimage",type:"file"},on:{change:e.fileupload}}),e._v(" 点击上传文件\n         ")]),e._v(e._s(e.fileName)+"\n         ")]),e._v(" "),a("el-form-item",{attrs:{label:"公告链接:"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.changebulletindata["link"],callback:function(t){e.$set(e.changebulletindata,"link",t)},expression:"changebulletindata['link']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"平台:"}},[a("el-select",{staticStyle:{"border-radius":"10px"},attrs:{disabled:"",placeholder:"请选择",size:"small"},model:{value:e.changebulletindata["plaform"],callback:function(t){e.$set(e.changebulletindata,"plaform",t)},expression:"changebulletindata['plaform']"}},[a("el-option",{attrs:{label:"不限制",value:""}}),e._v(" "),a("el-option",{attrs:{label:"安卓",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"苹果",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"客户端:"}},[a("el-select",{staticStyle:{"border-radius":"10px"},attrs:{disabled:"",multiple:"",placeholder:"请选择",size:"small"},model:{value:e.changebulletindata["client"],callback:function(t){e.$set(e.changebulletindata,"client",t)},expression:"changebulletindata['client']"}},e._l(e.selectForm[1].options,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1):e._e(),e._v(" "),"跑马灯"===e.changebulletindata["type"]?a("el-form",{ref:"form",attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"开始时间:","hide-required-asterisk":""}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},on:{change:e.changeQueryMarqueeweights},model:{value:e.changebulletindata["start_time"],callback:function(t){e.$set(e.changebulletindata,"start_time",t)},expression:"changebulletindata['start_time']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间:","hide-required-asterisk":""}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},on:{change:e.changeQueryMarqueeweights},model:{value:e.changebulletindata["end_time"],callback:function(t){e.$set(e.changebulletindata,"end_time",t)},expression:"changebulletindata['end_time']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"平台:"}},[a("el-select",{staticStyle:{"border-radius":"10px"},attrs:{disabled:"",placeholder:"请选择",size:"small"},model:{value:e.changebulletindata["plaform"],callback:function(t){e.$set(e.changebulletindata,"plaform",t)},expression:"changebulletindata['plaform']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户端:"}},[a("el-select",{staticStyle:{"border-radius":"10px"},attrs:{multiple:"",disabled:"",placeholder:"请选择",size:"small"},model:{value:e.changebulletindata["client"],callback:function(t){e.$set(e.changebulletindata,"client",t)},expression:"changebulletindata['client']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"服务器:"}},[a("el-select",{staticStyle:{"border-radius":"10px"},attrs:{disabled:"",multiple:"",placeholder:"请选择",size:"small"},model:{value:e.changebulletindata["servername"],callback:function(t){e.$set(e.changebulletindata,"servername",t)},expression:"changebulletindata['servername']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"时间间隔:"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.changebulletindata["time_interval"],callback:function(t){e.$set(e.changebulletindata,"time_interval",e._n(t))},expression:"changebulletindata['time_interval']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权重:",prop:"weights"}},[a("el-select",{staticStyle:{"border-radius":"10px"},attrs:{placeholder:"请选择",size:"small"},model:{value:e.changebulletindata["weights"],callback:function(t){e.$set(e.changebulletindata,"weights",t)},expression:"changebulletindata['weights']"}},e._l(e.Marqueeweights,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1):e._e()],1)]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogBulletinFormchange=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.putchangeoneannounced}},[e._v("确 定")])],1)])],1)},n=[],l=(a("7514"),a("0d21"));function i(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,l=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0)if(a.push(i.value),t&&a.length===t)break}catch(o){n=!0,l=o}finally{try{r||null==s["return"]||s["return"]()}finally{if(n)throw l}}return a}}var s=a("06c5"),o=a("3d8c");function c(e,t){return Object(l["a"])(e)||i(e,t)||Object(s["a"])(e,t)||Object(o["a"])()}a("ac6a"),a("ffc1"),a("7f7f"),a("96cf");var u=a("1da1");a("456d");function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e){if(null===e||"object"!==d(e))return e;var t=Array.isArray(e)?[]:{};return Object.keys(e).forEach((function(a){t[a]=m(e[a])})),t}var h=a("eec4"),f=a.n(h),p=a("74eb"),b=a("b775"),v={"Content-Type":"multipart/form-data"};function g(e){return Object(b["a"])({url:"announcement/create",method:"POST",data:e,headers:v})}function y(e){return Object(b["a"])({url:"announcement/query",method:"GET",params:e})}function w(e){return Object(b["a"])({url:"announcement/update",method:"PUT",params:e})}function _(e){return Object(b["a"])({url:"announcement/send",method:"POST",data:e})}function F(e){return Object(b["a"])({url:"announcement/weights",method:"GET",params:e})}function k(e){return Object(b["a"])({url:"announcement/queryservernames",method:"GET",params:e})}function $(e){return Object(b["a"])({url:"announcement/putchangeoneannounced",method:"PUT",data:e})}var x=a("7364"),S=a("5a0c"),M=a.n(S),D={name:"rolequery",data:function(){var e=this,t=function(e,t,a){if(!t)return a(new Error("请至少输入一个字符"));a()},a=function(e,t,a){if(!t)return a(new Error("请至少输入一个字符"));a()},r=function(e,t,a){if(!t)return a(new Error("请至少输入一个字符"));a()},n=function(e,t,a){return t?new Date>t?a(new Error("不可以选择超过现在时间得时间")):void a():a(new Error("请选择一个时间"))},l=function(t,a,r){return a?new Date(a)<=e.createForm["stime"]?r(new Error("结束时间不可等于或小于开始时间")):void r():r(new Error("请选择一个时间"))},i=function(e,t,a){return t?/^[0-9]*$/.test(t)?void a():a(new Error("请输入纯数字")):a(new Error("请输入时间间隔"))};return{radio:!0,changebulletindata:"",dialogBulletinFormchange:!1,sendtime:!1,sendtimes:"",dialogFormVisiblesend:!1,AnnouncementBody:"",serverCreatedialogFormVisible:!1,dialogFormVisiblechange:!1,dialogFormchange:!1,file:[],filelist:[],multipleTable:"",servernamesselect:[],total:0,filterForm:{bulletinid:"",setime:"",plaform:"",channel:"",servername:"",type:"",page:1,pagesize:10},createForm:{bulletinid:"",stime:"",etime:"",plaform:"",channel:"",servername:"",interval:"",weights:"",title:"",images:"",a:"",text:""},textrule:{text:[{validator:t,trigger:["blur","change"]}]},announcementrule:{title:[{validator:a,trigger:["blur","change"]}],a:[{validator:r,trigger:["blur","change"]}]},createFormMarqueeRules:{stime:[{validator:n,trigger:["blur","change"]}],etime:[{validator:l,trigger:["blur","change"]}],interval:[{validator:i,trigger:["blur","change"]}],weights:[{validator:r,trigger:["blur","change"]}]},insertForm:{type:"1",area:"1",time:"1",beacuse:"",long:""},selectForm:[{label:"平台",multiple:!1,key:"plaform",value:"",options:[{label:"不限制",value:""},{label:"Android",value:"1"},{label:"IOS",value:"2"}]},{label:"客户端",key:"channel",multiple:!0,value:"",options:[]},{label:"服务器名称",key:"servername",multiple:!1,value:"",options:[{label:"不限制",value:""}]},{label:"公告类型",key:"type",multiple:!1,value:"",options:[{label:"不限制",value:""},{label:"跑马灯",value:"1"},{label:"公告板",value:"2"}]}],idoptions:[{label:"角色ID",value:"roleid"}],tableData:[],tablecolumn:[{label:"公告ID",prop:"bulletinid"},{label:"公告类型",prop:"type"},{label:"平台",prop:"plaform"},{label:"客户端",prop:"client"},{label:"区服名称",prop:"servername"},{label:"公告标题",prop:"title"},{label:"公告状态",prop:"anno_status"},{label:"开始时间",prop:"start_time"},{label:"结束时间",prop:"end_time"}],fileName:"",screenWidth:145,screenHeight:"",tableTrue:[],Marqueeweights:[]}},computed:{send:function(){return!(this.tableTrue.length>0)}},methods:{changeQueryMarqueeweights:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,l,i,s,o,c,u,d=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"index"!==t&&(this.changebulletindata["weights"]=""),this.Marqueeweights=[],a=this.changebulletindata,r=a.start_time,n=a.end_time,l=a.plaform,i=a.client,s=a.servername,e.t0=l,e.next="不限制"===e.t0?6:"安卓"===e.t0?8:"苹果"===e.t0?10:12;break;case 6:return l="",e.abrupt("break",12);case 8:return l="1",e.abrupt("break",12);case 10:return l="2",e.abrupt("break",12);case 12:return e.next=14,F({stime:r,etime:n,plaform:l,client:i,servername:s});case 14:o=e.sent,c=o.data,this.Marqueeweights=c.filter((function(e){return e.value})),u=[{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10}],this.Marqueeweights=u.filter((function(e){return!d.Marqueeweights.some((function(t){return+t.label===+e.label}))}));case 19:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),arrayUnique:function(e,t){var a={};return e.reduce((function(e,r){return!a[r[t]]&&(a[r[t]]=e.push(r)),e}),[])},queryMarqueeweights:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n,l,i,s,o,c,u,d,m=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.createForm["weights"]="",t=this.createForm,a=t.stime,r=t.etime,n=t.plaform,l=t.channel,i=t.servername,!n||!l){e.next=10;break}return e.next=5,k({channel:l,plaform:n});case 5:s=e.sent,o=s.data,this.servernamesselect=this.arrayUnique(o,"value"),e.next=12;break;case 10:this.createForm["servername"]="",this.servernamesselect=[];case 12:return e.next=14,F({stime:a,etime:r,plaform:n,channel:l,servername:i});case 14:c=e.sent,u=c.data,this.Marqueeweights=u.filter((function(e){return e.value})),d=[{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10}],this.Marqueeweights=d.filter((function(e){return!m.Marqueeweights.some((function(t){return+t.label===+e.label}))}));case 19:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),putchangeoneannounced:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$(this.changebulletindata);case 2:if(t=e.sent,a=t.code,200!==+a){e.next=9;break}return this.dialogBulletinFormchange=!1,this.filterFormChangeget(),this.$message.success("修改成功"),e.abrupt("return");case 9:this.$message.warning("修改失败");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),postsendannounced:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.sendtimes?M()(this.sendtimes).format("YYYY-MM-DD HH:mm:ss"):"",this.sendtime||(t=M()(new Date).format("YYYY-MM-DD HH:mm:ss")),t){e.next=5;break}return this.$message.info("请选择时间"),e.abrupt("return");case 5:return e.next=7,_({data:this.tableTrue,sendtime:t});case 7:if(a=e.sent,200===a.code){e.next=11;break}return this.$message.warning("发布失败"),e.abrupt("return");case 11:this.$message.success("发布成功"),this.dialogFormVisiblesend=!1,this.filterFormChangeget();case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),tableRowClassName:function(e){var t=e.row;e.rowIndex;if("待用"!==t.anno_status||"公告板"!==t.type)return"success-row"},placardrelease:function(e,t){console.log(e,t)},placardmodify:function(e,t){this.dialogBulletinFormchange=!0,this.changebulletindata=m(t),this.changeQueryMarqueeweights("index")},placarddeactivate:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w(a);case 2:if(r=e.sent,200!==+r.code){e.next=10;break}return this.$message.success("停用成功"),this.tableData[t]["anno_status"]="停用",this.tableData[t].stopshow=!1,this.tableData[t].changeshow=!1,console.log(this),e.abrupt("return");case 10:this.$message.warning("停用失败");case 11:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),dialogFormVisiblechangealter:function(){this.dialogFormVisiblechange=!0,this.createForm["bulletinid"]=this.$store.getters.gameid+""+(new Date).getTime()},fileupload:function(e){this.createForm["images"]=e.target.files[0],this.fileName=this.createForm["images"].name},postannounced:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n,l,i,s,o,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs["createForm"].validate().catch((function(e){return!1}));case 2:if(t=e.sent,!this.radio){e.next=9;break}return e.next=6,this.$refs["createFormMarqueeRule"].validate().catch((function(e){return!1}));case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,this.$refs["createFormbulletin"].validate().catch((function(e){return!1}));case 11:e.t0=e.sent;case 12:if(a=e.t0,a&&t){e.next=15;break}return e.abrupt("return");case 15:for(r=new FormData,n=0,l=Object.entries(this.createForm);n<l.length;n++)i=c(l[n],2),s=i[0],o=i[1],r.append(s,o);return this.radio?r.append("type",1):r.append("type",2),e.next=20,g(r);case 20:if(u=e.sent,200===u.code){e.next=24;break}return this.$message.warning("创建失败!"),e.abrupt("return");case 24:for(d in this.createForm)this.createForm[d]="";this.file="",this.fileName="",this.dialogFormVisiblechange=!1,this.filterFormChangeget(),this.$message.success("创建成功!");case 30:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),uploadimages:function(e){console.log(e)},handleSelectionChange:function(e){this.tableTrue=e.filter((function(e){return"待用"===e.anno_status&&"公告板"===e.type}))},filterFormChange:function(e){switch(e){case"click":this.filterFormChangeClick();break;case"change":this.filterFormChangeget();break;case"flush":this.filterFormChangeFlush();break;case"page":this.filterFormChangePage();break}},filterFormChangeClick:function(){for(var e in this.filterForm)"bulletinid"!==e&&"page"!==e&&"pagesize"!==e&&(this.filterForm[e]="");this.filterFormGET(this.filterForm)},filterFormChangeget:function(){this.filterForm["bulletinid"]="",this.filterFormGET(this.filterForm)},filterFormGET:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y(this.filterForm);case 2:if(a=e.sent,200===+a.code){e.next=6;break}return this.tableData=[],e.abrupt("return");case 6:this.tableData=a.data.res,this.total=+a.data.total,this.tableData.map((function(e){e.type=1===+e.type?"跑马灯":"公告板",e.plaform=1===e.plaform?"安卓":2===e.plaform?"苹果":"不限制",e.client=JSON.stringify(e.client)===JSON.stringify([""])?"":e.client,e.servername=JSON.stringify(e.servername)===JSON.stringify([""])?"":e.servername;try{e["start_time"]=e.start_time?M()(e.start_time).format("YYYY-MM-DD HH:mm:ss"):"",e["end_time"]=e.end_time?M()(e.end_time).format("YYYY-MM-DD HH:mm:ss"):""}catch(t){console.log(t)}switch(+e.anno_status){case 1:e["anno_status"]="停用",e.changeshow=!1,e.stopshow=!1;break;case 2:e["anno_status"]="发布中",e.changeshow=!1,e.stopshow=!0;break;case 3:e["anno_status"]="发布失败",e.changeshow=!1,e.stopshow=!1;break;case 4:e["anno_status"]="发布完成",e.changeshow=!1,e.stopshow=!1;break;default:e["anno_status"]="待用",e.changeshow=!0,e.stopshow=!0}return e}));case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=f()(),t.listenTo(document.getElementById("body"),(function(e){n.screenWidth=.09*e.offsetWidth})),Object(p["b"])({code:"areaclothing",gameid:this.gameid}).then((function(e){var t=e.data.values.map((function(e){return{label:e,value:e}}));n.selectForm[1].options=n.selectForm[1].options.concat(t),n.clientOptions=t})),e.next=5,Object(x["c"])();case 5:a=e.sent,r=a.data,r.map((function(e){n.selectForm[2].options.find((function(t){return t.label===e.label}))||!e.label||n.selectForm[2].options.push(e)}));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},O=D,C=(a("f334"),a("2877")),j=Object(C["a"])(O,r,n,!1,null,null,null);t["default"]=j.exports},f334:function(e,t,a){"use strict";var r=a("1a71"),n=a.n(r);n.a},ffc1:function(e,t,a){var r=a("5ca1"),n=a("504c")(!0);r(r.S,"Object",{entries:function(e){return n(e)}})}}]);